{% extends "base.html" %}

{% block content %}
<h1>{{ company.name }}</h1>
<div class="company-info">
    <p>行业: {{ company.industry }}</p>
    <p>资本: {{ company.capital }}</p>
    <p>股票数量: {{ company.stock_count }}</p>
</div>

<section class="shareholders">
    <h2>股东</h2>
    <ul>
        {% for shareholder, shares in company.shareholders.items() %}
        <li>{{ shareholder }}: {{ shares }} 股</li>
        {% endfor %}
    </ul>
    <form method="POST" action="{{ url_for('add_shareholder', company_id=company.id) }}">
        <label for="shareholder_id">添加股东:</label>
        <input type="number" id="shareholder_id" name="shareholder_id" required>
        <label for="shares">股份数量:</label>
        <input type="number" id="shares" name="shares" required>
        <button type="submit">添加</button>
    </form>
    <form method="POST" action="{{ url_for('remove_shareholder', company_id=company.id) }}">
        <label for="shareholder_id">移除股东:</label>
        <input type="number" id="shareholder_id" name="shareholder_id" required>
        <button type="submit">移除</button>
    </form>
</section>

<section class="partners">
    <h2>合作伙伴</h2>
    <ul>
        {% for partner in company.partners %}
        <li>{{ partner }}</li>
        {% endfor %}
    </ul>
    <form method="POST" action="{{ url_for('add_partner', company_id=company.id) }}">
        <label for="partner_id">添加合作伙伴:</label>
        <input type="number" id="partner_id" name="partner_id" required>
        <button type="submit">添加</button>
    </form>
    <form method="POST" action="{{ url_for('remove_partner', company_id=company.id) }}">
        <label for="partner_id">移除合作伙伴:</label>
        <input type="number" id="partner_id" name="partner_id" required>
        <button type="submit">移除</button>
    </form>
</section>

<section class="dividend">
    <h2>分红</h2>
    <form method="POST" action="{{ url_for('distribute_dividend', company_id=company.id) }}">
        <label for="amount">分红金额:</label>
        <input type="number" id="amount" name="amount" required>
        <button type="submit">分红</button>
    </form>
</section>

<section class="buyback">
    <h2>股票回购</h2>
    <form method="POST" action="{{ url_for('buyback_shares', company_id=company.id) }}">
        <label for="amount">回购数量:</label>
        <input type="number" id="amount" name="amount" required>
        <button type="submit">回购</button>
    </form>
</section>

<section class="rights-bonus">
    <h2>配股/转增股本</h2>
    <form method="POST" action="{{ url_for('issue_rights_shares', company_id=company.id) }}">
        <label for="ratio">配股比例:</label>
        <input type="number" id="ratio" name="ratio" step="0.01" required>
        <button type="submit">配股</button>
    </form>
    <form method="POST" action="{{ url_for('bonus_shares', company_id=company.id) }}">
        <label for="ratio">转增比例:</label>
        <input type="number" id="ratio" name="ratio" step="0.01" required>
        <button type="submit">转增</button>
    </form>
</section>

<section class="edit-company">
    <h2>编辑公司信息</h2>
    <form method="POST" action="{{ url_for('edit_company', company_id=company.id) }}">
        <label for="name">公司名称:</label>
        <input type="text" id="name" name="name" value="{{ company.name }}" required>
        <label for="industry">行业:</label>
        <input type="text" id="industry" name="industry" value="{{ company.industry }}" required>
        <label for="capital">资本:</label>
        <input type="number" id="capital" name="capital" value="{{ company.capital }}" required>
        <button type="submit">保存</button>
    </form>
</section>
{% endblock %} 