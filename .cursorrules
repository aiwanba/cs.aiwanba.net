# .cursorrules 文件
# 开发流程
1. **查看任务**：确认当前要做什么
2. **写代码**：按规范开发功能
3. **记录变更**：记下修改的内容，在.cursorrules文件中记录

## 基本规则
1. **项目说明**：
   - 项目名称：Web在线股票交易游戏
   - 项目目标：开发一个由玩家和AI共同参与的在线股票交易游戏平台
   - 核心功能：
     * 公司模块：创建公司、股票发行、公司收购
     * 交易所模块：实时交易、价格走势
     * 银行模块：存贷款、利率调整
     * 市场新闻模块：实时新闻、事件影响
     * AI玩家模块：智能交易、角色多样
     * 社交模块：玩家互动、团队合作
     * 分析工具：数据分析、市场趋势

2. **环境配置**：
   - 运行环境：Python 3.11.9
   - 主框架：Flask
   - 服务器：Gunicorn
   - 数据库：MySQL 5.7.40
   - 项目端口：5010
   - 配置文件：gunicorn_conf.py

3. **编码标准**：
   - 代码要整洁规范，使用2空格缩进，结尾加分号，字符串用单引号
   - 文件和组件用大写开头，变量函数用小写开头，CSS类名用横线连接
   - 复杂的代码要写注释说明用途和原理

4. **文件记录**：
   - 记录新建的文件和用途
   - 记录修改的内容
   - 记录版本号和变更说明

5. **开发计划**：
   - 第一阶段：
     * 搭建基础框架
     * 实现公司和交易所核心功能
     * 开发基础AI交易功能
   - 第二阶段：
     * 完善银行系统
     * 实现新闻事件系统
     * 增强AI决策能力
   - 第三阶段：
     * 开发社交功能
     * 添加市场分析工具

## 文件变更记录
### 创建文件
| 序号 | 文件名称 | 文件描述 |
|------|----------|----------|
| 1 | app.py | Flask应用主入口文件 |
| 2 | config/settings.py | 项目配置文件 |
| 3 | templates/base.html | 网站基础模板 |
| 4 | templates/index.html | 网站首页模板 |
| 5 | requirements.txt | 项目依赖包清单 |
| 6 | config/__init__.py | 配置包初始化文件 |
| 7 | models/__init__.py | 模型包初始化文件 |
| 8 | services/__init__.py | 服务包初始化文件 |
| 9 | models/user.py | 用户数据模型 |
| 10 | models/company.py | 公司数据模型 |
| 11 | models/stock.py | 股票和交易数据模型 |
| 12 | services/auth.py | 用户认证服务 |
| 13 | routes/auth.py | 认证相关路由 |
| 14 | templates/auth/login.html | 登录页面模板 |
| 15 | services/company.py | 公司相关服务 |
| 16 | routes/company.py | 公司相关路由 |
| 17 | templates/company/create.html | 创建公司页面 |
| 18 | services/trading.py | 交易相关服务 |
| 19 | routes/trading.py | 交易相关路由 |
| 20 | static/css/style.css | 网站样式文件 |
| 21 | templates/auth/register.html | 注册页面模板 |
| 22 | static/js/main.js | 全局JavaScript工具函数 |
| 23 | templates/company/info.html | 公司详情页面 |
| 24 | models/ai_player.py | AI玩家数据模型 |
| 25 | services/ai_trading.py | AI交易服务 |
| 26 | models/bank.py | 银行相关数据模型 |
| 27 | services/bank.py | 银行业务服务 |
| 28 | routes/bank.py | 银行相关路由 |
| 29 | templates/bank/index.html | 银行主页模板 |
| 30 | models/news.py | 新闻事件数据模型 |
| 31 | services/news.py | 新闻事件服务 |
| 32 | routes/news.py | 新闻相关路由 |
| 33 | templates/news/index.html | 新闻主页模板 |
| 34 | models/social.py | 社交功能数据模型 |
| 35 | services/social.py | 社交功能服务 |
| 36 | routes/social.py | 社交相关路由 |
| 37 | templates/social/index.html | 社交主页模板 |
| 38 | templates/social/teams.html | 团队列表页面 |
| 39 | templates/social/team.html | 团队详情页面 |
| 40 | templates/social/messages.html | 消息页面模板 |
| 41 | models/analysis.py | 市场分析数据模型 |
| 42 | services/analysis.py | 市场分析服务 |
| 43 | routes/analysis.py | 市场分析相关路由 |
| 44 | templates/analysis/index.html | 市场分析主页模板 |
| 45 | utils/logger.py | 日志配置工具 |

### 修改文件
| 序号 | 文件名称 | 修改内容 |
|------|----------|----------|
| 1 | models/__init__.py | 添加数据库初始化功能 |
| 2 | app.py | 添加数据库初始化代码 |
| 3 | models/user.py | 修复密码字段长度问题 |
| 4 | app.py | 添加认证路由蓝图 |
| 5 | app.py | 添加公司路由蓝图 |
| 6 | app.py | 添加交易路由蓝图 |
| 7 | templates/index.html | 更新首页显示市场概览 |
| 8 | routes/auth.py | 添加登录和注册页面路由 |
| 9 | services/auth.py | 修复密码验证逻辑 |
| 10 | routes/company.py | 添加获取公司列表接口 |
| 11 | services/company.py | 添加获取公司列表服务 |
| 12 | templates/base.html | 添加导航栏和静态文件 |
| 13 | routes/auth.py | 添加退出登录功能 |
| 14 | routes/company.py | 添加公司详情页面路由 |
| 15 | services/company.py | 添加获取交易历史功能 |
| 16 | routes/company.py | 添加创建公司页面路由 |
| 17 | templates/company/create.html | 更新创建公司页面 |
| 18 | static/css/style.css | 添加创建公司页面样式 |
| 19 | models/stock.py | 添加AI相关字段 |
| 20 | static/css/style.css | 添加银行页面样式 |
| 21 | app.py | 添加银行路由蓝图 |
| 22 | static/css/style.css | 添加新闻页面样式 |
| 23 | app.py | 添加新闻路由蓝图 |
| 24 | services/ai_trading.py | 增强AI交易决策能力 |
| 25 | app.py | 添加社交路由蓝图 |
| 26 | static/css/style.css | 添加社交功能样式 |
| 27 | app.py | 添加市场分析路由蓝图 |
| 28 | static/css/style.css | 添加市场分析样式 |
| 29 | requirements.txt | 更新项目依赖 |
| 30 | config/settings.py | 优化配置项 |

### 版本变更
| 版本号 | 变更说明 |
|--------|----------|
| 0.1.0 | 初始化项目基础框架 |
| 0.1.1 | 添加数据库模型 |
| 0.1.2 | 添加用户认证功能 |
| 0.1.3 | 添加公司创建功能 |
| 0.1.4 | 添加股票交易功能 |
| 0.1.5 | 更新首页和样式 |
| 0.1.6 | 添加公司详情页面 |
| 0.1.7 | 完善公司创建功能 |
| 0.1.8 | 添加AI交易功能 |
| 0.2.0 | 添加银行系统基础功能 |
| 0.2.1 | 添加银行系统前端界面 |
| 0.2.2 | 添加新闻事件系统基础功能 |
| 0.2.3 | 添加新闻事件系统前端界面 |
| 0.2.4 | 增强AI决策能力 |
| 0.3.0 | 添加社交功能基础模型和服务 |
| 0.3.1 | 添加社交功能路由 |
| 0.3.2 | 添加社交功能前端页面 |
| 0.4.0 | 添加市场分析基础功能 |
| 0.4.1 | 添加市场分析路由 |
| 0.4.2 | 添加市场分析前端页面 |
| 0.4.3 | 系统优化和配置更新 |