# 执行命令流程
1. **查看同步规则**：确保操作符合项目规范
2. **查看项目下一步**：了解当前执行任务
3. **执行具体操作**：按规范进行开发
4. **更新变更记录**：在.cursorrules文件中记录所有变更

# 个人开发规则指南

## 1. 项目管理规则
- 记录所有开发想法和计划
- 追踪功能的开发进度
- 保持开发进度更新

## 2. 代码开发规则
### 2.1 编码风格
- 使用清晰的命名方式
- 编写详细的中文注释
- 保持代码结构简洁

### 2.2 文件组织
- 按功能模块组织文件
- 保持文件结构清晰
- 及时清理未使用的代码

## 3. 功能开发流程
1. 需求分析
   - 明确开发目标
   - 列出具体功能点
   - 设计实现方案

2. 开发实施
   - 按计划编写代码
   - 及时处理问题

## 4. 环境配置
### 4.1 基本信息
- 项目名称: cs_aiwanba_net
- 项目端口: 5010
- Python版本: 3.11.9
- 域名: localhost

### 4.2 启动配置
- 启动方式: gunicorn -c gunicorn_conf.py app:app
- 项目路径: /www/wwwroot/cs.aiwanba.net
- 当前框架: flask
- 入口文件: /www/wwwroot/cs.aiwanba.net/app.py
- 通讯协议: gunicorn
- 应用名称: app

### 4.3 数据库配置
- 数据库: MySQL 5.7.40
- 数据库名: cs_aiwanba_net
- 用户名: cs_aiwanba_net
- 密码: sQz9HSnF5ZcXj9SX
- 主机: localhost
- 端口: 3306

### 4.4 依赖管理
- 依赖文件: requirements.txt
- 镜像源: https://pypi.tuna.tsinghua.edu.cn/simple
- 安装命令: pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

### 4.5 Gunicorn配置
配置文件路径: /www/wwwroot/cs.aiwanba.net/gunicorn_conf.py
主要配置:
- workers: 4
- threads: 2
- user: 'www'
- worker_class: 'uvicorn.workers.UvicornWorker'
- bind: '0.0.0.0:5010'
- 日志级别: info

### 4.6 前端技术栈
- 基础框架：
  * HTML5
  * CSS3
  * JavaScript (ES6+)
- UI框架：
  * Bootstrap 5
  * jQuery 3.x
- 图表工具：
  * ECharts (用于股票走势图)
- WebSocket：
  * Socket.IO (用于实时数据更新)
- 开发工具：
  * VSCode
  * Chrome DevTools

## 5. 项目功能模块
### 5.1 公司模块
- 公司创建与股票发行
  - 创建公司功能
    * 公司基本信息设置（名称、简介、行业类型）
    * 初始资金配置
    * 股权结构设计
  - 设定初始股票发行
    * 发行数量和价格设置
    * IPO流程管理
    * 股票分配机制
  - 公司经营决策系统
    * 分红政策制定
    * 股票回购功能
    * 公司财务报表生成
- 公司收购与合并
  - 收购发起功能
    * 收购价格设定
    * 收购条件制定
    * 股权转让流程
  - 市场影响计算系统
    * 股价影响评估
    * 市场反应模拟
    * 连锁反应计算

### 5.2 交易所模块
- 股票交易系统
  - 实时交易功能
    * 买卖订单管理
    * 价格匹配机制
    * 交易限制控制
  - 价格波动计算
    * 实时价格更新
    * 涨跌幅限制
    * 成交量分析
  - 交易记录管理
    * 历史交易查询
    * 交易数据统计
    * 异常交易监控
- 市场信息展示
  - 实时行情
    * 股票价格走势图
    * 成交量显示
    * 买卖盘口数据
  - 交易数据统计
    * 市场成交总量
    * 个股交易统计
    * 市场趋势分析

### 5.3 银行模块
- 资金管理系统
  - 存款功能
    * 活期存款
    * 定期存款
    * 利息计算器
  - 贷款功能
    * 信用评估
    * 贷款申请流程
    * 还款计划管理
  - 利息计算
    * 复利计算
    * 本息统计
    * 收益预测
- 利率调整系统
  - 市场资金监控
    * 资金流向分析
    * 市场流动性评估
    * 风险预警机制
  - 利率动态调整
    * 基准利率设定
    * 利率浮动范围
    * 调整周期管理

### 5.4 新闻与事件模块
- 新闻生成系统
  - 玩家行为触发
    * 重大交易新闻
    * 公司运营动态
    * 市场异动报道
  - AI行为触发
    * AI交易行为报道
    * 市场趋势分析
    * 预测性新闻
  - 公司公告系统
    * 定期报告发布
    * 重大事项公告
    * 临时公告管理
- 市场影响系统
  - 新闻影响计算
    * 影响力评分
    * 持续时间估算
    * 波及范围预测
  - 市场情绪分析
    * 情绪指数计算
    * 投资者反应预测
    * 市场趋势判断

### 5.5 AI玩家模块
- AI决策系统
  - 行为算法
    * 交易策略生成
    * 风险评估机制
    * 收益目标设定
  - 角色多样化
    * 投资风格定义
    * 决策模式设计
    * 行为模式切换
  - 市场适应性
    * 策略动态调整
    * 市场趋势识别
    * 自我学习优化
- 交互影响系统
  - 与玩家互动
    * 交易对手匹配
    * 策略互补设计
    * 竞争机制实现
  - 市场影响计算
    * 交易量影响
    * 价格影响评估
    * 市场情绪影响

### 5.6 玩家互动模块
- 聊天系统
  - 基础聊天功能
    * 世界频道聊天
    * 私聊功能
    * 表情包支持
  - 交易讨论
    * 股票评论区
    * 市场讨论区
    * 简单回复功能
- 简单组队
  - 基础组队
    * 创建/加入/退出队伍
    * 队伍成员列表
    * 队伍公告
  - 组队收益
    * 队伍总资产显示
    * 成员贡献榜
    * 简单分红功能

### 5.7 分析工具模块
- 数据分析系统
  - 价格走势分析
    * 技术指标计算
    * 趋势线绘制
    * 支撑阻力分析
  - 市场趋势分析
    * 市场情绪指标
    * 成交量分析
    * 板块联动分析
  - 公司财务分析
    * 财务指标计算
    * 对比分析功能
    * 风险评估报告

### 5.8 成就排行模块
- 成就系统
  - 成就解锁
    * 交易量成就
    * 收益率成就
    * 特殊事件成就
  - 奖励发放
    * 称号系统
    * 特权功能
    * 积分奖励
- 排行榜系统
  - 财富排行
    * 总资产排名
    * 现金排名
    * 股票市值排名
  - 收益率排行
    * 日收益率
    * 月收益率
    * 年收益率

## 6. 错误处理
- 做好异常捕获
- 记录关键日志
- 提供错误提示

## 7. 变更记录格式
日期：[变更内容]
- 新增：新添加的功能
- 修改：修改的功能
- 修复：修复的问题
- 删除：删除的内容

## 8. 待办事项
### 已完成功能
[在这里记录已经完成的功能]

### 开发中功能
[在这里记录正在开发的功能]

### 计划功能
1. 公司模块开发
2. 交易所模块开发
3. 银行模块开发
4. 新闻与事件模块开发
5. AI玩家模块开发
6. 玩家互动模块开发
7. 分析工具模块开发
8. 成就排行模块开发
